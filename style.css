/*
 Clean responsive stylesheet for Weather App
*/

/* Weather layers */
.weather-layer { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.clouds { position:absolute; top:0; left:0; width:200%; height:30vh; background:linear-gradient(to bottom,rgba(255,255,255,.1),rgba(255,255,255,0)); animation:cloud-move 60s linear infinite; filter:blur(2px); }
@keyframes cloud-move { from{transform:translateX(0);} to{transform:translateX(-50%);} }
.lightning { position:absolute; inset:0; background:radial-gradient(circle at 30% 20%,rgba(255,255,255,.12),transparent 35%),radial-gradient(circle at 70% 30%,rgba(255,255,255,.08),transparent 40%); mix-blend-mode:screen; }
.lightning-flash { position:absolute; inset:0; background:rgba(255,255,255,.25); opacity:0; animation:flash 5s infinite; }
@keyframes flash { 0%,97%,100%{opacity:0;} 98%{opacity:1;} }
.rain { position:absolute; inset:0; background-image:linear-gradient(rgba(255,255,255,.06) 2px,transparent 2px),linear-gradient(90deg,rgba(255,255,255,.03) 2px,transparent 2px); background-size:2px 24px,24px 2px; opacity:.25; animation:rain-fall 1.2s linear infinite; }
@keyframes rain-fall { from{background-position:0 0,0 0;} to{background-position:0 24px,24px 0;} }
.snow { position:absolute; inset:0; background-image:radial-gradient(2px 2px at 20px 30px,rgba(255,255,255,.6) 50%,transparent 51%),radial-gradient(2px 2px at 60px 80px,rgba(255,255,255,.6) 50%,transparent 51%),radial-gradient(2px 2px at 130px 120px,rgba(255,255,255,.6) 50%,transparent 51%),radial-gradient(2px 2px at 200px 60px,rgba(255,255,255,.6) 50%,transparent 51%); background-size:250px 250px; animation:snow-fall 6s linear infinite; opacity:.45; }
@keyframes snow-fall { from{background-position:0 0;} to{background-position:0 250px;} }
.mist { position:absolute; inset:0; background:radial-gradient(200px 120px at 20% 30%,rgba(255,255,255,.08),transparent 60%),radial-gradient(220px 140px at 70% 35%,rgba(255,255,255,.06),transparent 65%),radial-gradient(180px 100px at 50% 70%,rgba(255,255,255,.05),transparent 60%); filter:blur(1px); }

/* Theme */
:root { --bg:#0b1220; --card:rgba(17,25,40,.72); --stroke:rgba(255,255,255,.12); --text:#e5e7eb; --muted:#b8c1d1; --accent:#60a5fa; --danger:#ef4444; --shadow:0 10px 30px rgba(2,6,23,.55); }
@media (prefers-reduced-motion:reduce){ *{animation-duration:.001ms!important; animation-iteration-count:1!important; transition-duration:.001ms!important;} }

/* Base */
*{box-sizing:border-box;} html,body{height:100%;}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:radial-gradient(80% 80% at 15% 0%,#0a1740 0%,#0b1220 40%,#0b1220 100%) fixed;background-color:var(--bg);line-height:1.5;}
body::before{content:'';position:fixed;inset:0;background:radial-gradient(600px 600px at 10% -5%,rgba(96,165,250,.15) 0%,transparent 60%),radial-gradient(800px 800px at 110% 10%,rgba(34,211,238,.12) 0%,transparent 60%);pointer-events:none;z-index:0;}
#app-container{position:relative;z-index:1;width:min(92vw,1000px);margin:24px auto 64px;padding:16px;overflow:visible;isolation:isolate;}
.hero{text-align:center;margin-bottom:20px;}
.app-title{margin:0 0 8px;font-size:clamp(1.6rem,3.2vw + .6rem,2.2rem);font-weight:800;letter-spacing:.5px;}
.app-subtitle{margin:0;color:var(--muted);font-size:clamp(.9rem,1.2vw + .4rem,1rem);}
.card{background:linear-gradient(180deg,var(--card) 0%,rgba(17,25,40,.62) 100%);backdrop-filter:blur(14px) saturate(120%);border:1px solid var(--stroke);border-radius:16px;box-shadow:var(--shadow);}
.search-card,.news-card{padding:18px;}
.search-card{margin:20px auto 16px;}
.search-header,.news-header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
.search-title,.news-title{margin:0;font-size:clamp(1.1rem,1.6vw + .6rem,1.35rem);}
.input-group{display:flex;gap:10px;align-items:center;margin-top:12px;}
.input-wrapper{flex:1;position:relative;}
.leading-icon{position:absolute;top:50%;left:12px;transform:translateY(-50%);opacity:.7;}
input#city-input{width:100%;padding:12px 12px 12px 40px;font-size:1rem;color:var(--text);background:rgba(255,255,255,.06);border:1px solid var(--stroke);border-radius:12px;outline:none;}
input#city-input::placeholder{color:#c9d4e3;opacity:.8;}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid var(--stroke);background:linear-gradient(180deg,rgba(59,130,246,.16) 0%,rgba(59,130,246,.08) 100%);color:var(--text);cursor:pointer;}
.btn:hover{filter:brightness(1.06);} .btn:active{transform:translateY(1px);} .btn.secondary{background:linear-gradient(180deg,rgba(34,211,238,.16) 0%,rgba(34,211,238,.08) 100%);} .btn.danger{background:linear-gradient(180deg,rgba(239,68,68,.18) 0%,rgba(239,68,68,.08) 100%);}

/* History */
.history-section{margin-top:16px;} .history-header{display:flex;align-items:center;justify-content:space-between;gap:12px;} .history-actions{display:flex;gap:8px;align-items:center;}
#history-list{margin:10px 0 0;padding:0;list-style:none;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;}
.history-item{display:grid;grid-template-columns:1fr auto;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid var(--stroke);} .history-item .meta{display:flex;flex-direction:column;gap:2px;} .history-item .city{font-weight:600;} .history-item .time{color:var(--muted);font-size:.85rem;} .history-item.active{outline:2px solid var(--accent);box-shadow:0 0 0 4px rgba(96,165,250,.25) inset;} .history-item .delete-btn{background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.4);color:#fecaca;}

/* Weather info */
#weather-info{display:grid;grid-template-columns:1fr;gap:14px;margin-top:16px;} .weather-card{padding:18px;}
#location-name{font-size:clamp(1.2rem,1.8vw + .7rem,1.6rem);margin:0;} #temperature{font-size:clamp(2.2rem,5.5vw + .8rem,3.4rem);margin:4px 0 0;font-weight:800;} #weather-description{color:var(--muted);margin:0;font-size:clamp(.95rem,1vw + .5rem,1.05rem);}
.details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:10px;} .detail-card{padding:12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid var(--stroke);}

/* Forecast */
.forecast-title{margin:0 0 8px 4px;font-size:1.05rem;opacity:.9;} #forecast-container{display:flex;gap:10px;overflow-x:auto;padding:2px 4px 6px;scroll-snap-type:x mandatory;} #forecast-container::-webkit-scrollbar{height:8px;} #forecast-container::-webkit-scrollbar-thumb{background:rgba(255,255,255,.25);border-radius:6px;}
.forecast-card{flex:0 0 auto;width:clamp(120px,22vw,150px);padding:12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid var(--stroke);scroll-snap-align:start;text-align:center;} .forecast-day{font-weight:600;margin:0 0 6px;} .forecast-temp{margin:6px 0 0;font-weight:700;} .forecast-desc{margin:4px 0 0;color:var(--muted);font-size:.95rem;}

/* News */
.news-card{margin-top:16px;} .news-actions{display:flex;align-items:center;gap:8px;} .news-refresh-btn{min-width:44px;} .news-content{margin-top:12px;} .news-loading{color:var(--muted);} .news-error{color:#fecaca;background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.35);padding:10px 12px;border-radius:10px;}
.news-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;padding:0;margin:0;list-style:none;} .news-item{padding:12px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid var(--stroke);} .news-item a{color:var(--accent);text-decoration:none;} .news-item a:hover{text-decoration:underline;}

/* Errors & loading */
#error-message{display:none;margin-top:12px;padding:10px 12px;border-radius:12px;background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.35);color:#fecaca;} #loading-indicator{display:none;margin-top:12px;align-items:center;gap:10px;color:var(--muted);} .spinner{width:18px;height:18px;border:2px solid rgba(255,255,255,.25);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;} @keyframes spin{to{transform:rotate(360deg);}}

/* Accessibility */
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:8px;} .sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}

/* Responsive */
@media (max-width:900px){#app-container{width:min(94vw,820px);}}
@media (max-width:600px){#app-container{width:min(96vw,560px);padding:12px;} .input-group{flex-direction:column;align-items:stretch;} .news-header,.search-header{flex-direction:column;align-items:flex-start;gap:8px;} .history-actions{width:100%;justify-content:flex-start;flex-wrap:wrap;}}
@media (max-width:420px){#app-container{width:94vw;padding:10px;margin:18px auto 44px;} .search-card,.news-card,.weather-card{padding:14px;} .forecast-card{width:clamp(110px,40vw,140px);}}
/*
  Clean, responsive stylesheet for the Weather App
  - Glass UI cards, hero header
  - Weather visual layers (clouds, lightning, rain, snow, mist)
  - Accessible focus states, reduced-motion support
  - Responsive layout across desktop, tablet, and mobile
*/

/* ------------------------------
   Weather effect layers
------------------------------ */
.weather-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.clouds {
  position: absolute;
  top: 0;
  left: 0;
  width: 200%;
  height: 30vh;
  background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(255,255,255,0));
  animation: cloud-move 60s linear infinite;
  filter: blur(2px);
}

@keyframes cloud-move {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

.lightning {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.12), transparent 35%),
              radial-gradient(circle at 70% 30%, rgba(255,255,255,0.08), transparent 40%);
  mix-blend-mode: screen;
}

.lightning-flash {
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0.25);
  opacity: 0;
  animation: flash 5s infinite;
}

@keyframes flash {
  0%, 97%, 100% { opacity: 0; }
  98% { opacity: 1; }
}

.rain {
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(rgba(255,255,255,0.06) 2px, transparent 2px),
    linear-gradient(90deg, rgba(255,255,255,0.03) 2px, transparent 2px);
  background-size: 2px 24px, 24px 2px;
  opacity: 0.25;
  animation: rain-fall 1.2s linear infinite;
}

@keyframes rain-fall {
  from { background-position: 0 0, 0 0; }
  to { background-position: 0 24px, 24px 0; }
}

.snow {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,0.6) 50%, transparent 51%),
                    radial-gradient(2px 2px at 60px 80px, rgba(255,255,255,0.6) 50%, transparent 51%),
                    radial-gradient(2px 2px at 130px 120px, rgba(255,255,255,0.6) 50%, transparent 51%),
                    radial-gradient(2px 2px at 200px 60px, rgba(255,255,255,0.6) 50%, transparent 51%);
  background-size: 250px 250px;
  animation: snow-fall 6s linear infinite;
  opacity: 0.45;
}

@keyframes snow-fall {
  from { background-position: 0 0; }
  to { background-position: 0 250px; }
}

.mist {
  position: absolute;
  inset: 0;
  background: radial-gradient(200px 120px at 20% 30%, rgba(255,255,255,0.08), transparent 60%),
              radial-gradient(220px 140px at 70% 35%, rgba(255,255,255,0.06), transparent 65%),
              radial-gradient(180px 100px at 50% 70%, rgba(255,255,255,0.05), transparent 60%);
  filter: blur(1px);
}

/* ------------------------------
   Theme variables
------------------------------ */
:root {
  --bg: #0b1220;
  --bg-2: #0f172a;
  --card: rgba(17,25,40,0.72);
  --card-strong: rgba(20,30,48,0.82);
  --stroke: rgba(255,255,255,0.12);
  --text: #e5e7eb;
  --muted: #b8c1d1;
  --accent: #60a5fa;
  --accent-2: #22d3ee;
  --danger: #ef4444;
  --success: #22c55e;
  --warning: #f59e0b;
  --shadow: 0 10px 30px rgba(2, 6, 23, 0.55);
}

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}

/* ------------------------------
   Base layout
------------------------------ */
* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--text);
  background: radial-gradient(80% 80% at 15% 0%, #0a1740 0%, #0b1220 40%, #0b1220 100%) fixed;
  background-color: var(--bg);
  line-height: 1.5;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(600px 600px at 10% -5%, rgba(96,165,250,0.15) 0%, transparent 60%),
              radial-gradient(800px 800px at 110% 10%, rgba(34,211,238,0.12) 0%, transparent 60%);
  pointer-events: none;
  z-index: 0;
}

#app-container {
  position: relative;
  z-index: 1;
  width: min(92vw, 1000px);
  margin: 24px auto 64px auto;
  padding: 16px;
  overflow: visible;
  isolation: isolate;
}

.hero {
  text-align: center;
  margin-bottom: 20px;
}

.app-title {
  margin: 0 0 8px 0;
  font-size: clamp(1.6rem, 3.2vw + 0.6rem, 2.2rem);
  font-weight: 800;
  letter-spacing: 0.5px;
}

.app-subtitle {
  margin: 0;
  color: var(--muted);
  font-size: clamp(0.9rem, 1.2vw + 0.4rem, 1rem);
}

.card {
  background: linear-gradient(180deg, var(--card) 0%, rgba(17,25,40,0.62) 100%);
  backdrop-filter: blur(14px) saturate(120%);
  border: 1px solid var(--stroke);
  border-radius: 16px;
  box-shadow: var(--shadow);
}

.search-card,
.news-card { padding: 18px; }

.search-card {
  margin: 20px auto 16px auto;
}

.search-header,
.news-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.search-title,
.news-title {
  margin: 0;
  font-size: clamp(1.1rem, 1.6vw + 0.6rem, 1.35rem);
}

.input-group {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-top: 12px;
}

.input-wrapper {
  flex: 1;
  position: relative;
}

.leading-icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  opacity: 0.7;
}

input#city-input {
  width: 100%;
  padding: 12px 12px 12px 40px;
  font-size: 1rem;
  color: var(--text);
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke);
  border-radius: 12px;
  outline: none;
}

input#city-input::placeholder { color: #c9d4e3; opacity: 0.8; }

.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(59,130,246,0.16) 0%, rgba(59,130,246,0.08) 100%);
  color: var(--text);
  cursor: pointer;
}

.btn:hover { filter: brightness(1.06); }
.btn:active { transform: translateY(1px); }

.btn.secondary {
  background: linear-gradient(180deg, rgba(34,211,238,0.16) 0%, rgba(34,211,238,0.08) 100%);
}

.btn.danger {
  background: linear-gradient(180deg, rgba(239,68,68,0.18) 0%, rgba(239,68,68,0.08) 100%);
}

/* ------------------------------
   Auth and history section
------------------------------ */
.history-section { margin-top: 16px; }

.history-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.history-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

#history-list {
  margin: 10px 0 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 10px;
}

.history-item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke);
}

.history-item .meta {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.history-item .city { font-weight: 600; }
.history-item .time { color: var(--muted); font-size: 0.85rem; }

.history-item.active { outline: 2px solid var(--accent); box-shadow: 0 0 0 4px rgba(96,165,250,0.25) inset; }

.history-item .delete-btn {
  background: rgba(239,68,68,0.15);
  border: 1px solid rgba(239,68,68,0.4);
  color: #fecaca;
}

/* ------------------------------
   Weather info
------------------------------ */
#weather-info {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
  margin-top: 16px;
}

.weather-card { padding: 18px; }

#location-name { font-size: clamp(1.2rem, 1.8vw + 0.7rem, 1.6rem); margin: 0; }
#temperature { font-size: clamp(2.2rem, 5.5vw + 0.8rem, 3.4rem); margin: 4px 0 0 0; font-weight: 800; }
#weather-description { color: var(--muted); margin: 0; font-size: clamp(0.95rem, 1vw + 0.5rem, 1.05rem); }

.details-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
  margin-top: 10px;
}

.detail-card {
  padding: 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke);
}

/* ------------------------------
   Weekly forecast
------------------------------ */
.forecast-title { margin: 0 0 8px 4px; font-size: 1.05rem; opacity: 0.9; }

#forecast-container {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 2px 4px 6px 4px;
  scroll-snap-type: x mandatory;
}

#forecast-container::-webkit-scrollbar { height: 8px; }
#forecast-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.25); border-radius: 6px; }

.forecast-card {
  flex: 0 0 auto;
  width: clamp(120px, 22vw, 150px);
  padding: 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke);
  scroll-snap-align: start;
  text-align: center;
}

.forecast-day { font-weight: 600; margin: 0 0 6px 0; }
.forecast-temp { margin: 6px 0 0 0; font-weight: 700; }
.forecast-desc { margin: 4px 0 0 0; color: var(--muted); font-size: 0.95rem; }

/* ------------------------------
   News section
------------------------------ */
.news-card { margin-top: 16px; }

.news-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.news-refresh-btn { min-width: 44px; }

.news-content { margin-top: 12px; }

.news-loading { color: var(--muted); }

.news-error {
  color: #fecaca;
  background: rgba(239,68,68,0.15);
  border: 1px solid rgba(239,68,68,0.35);
  padding: 10px 12px;
  border-radius: 10px;
}

.news-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 10px;
  padding: 0;
  margin: 0;
  list-style: none;
}

.news-item {
  padding: 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke);
}

.news-item a { color: var(--accent); text-decoration: none; }
.news-item a:hover { text-decoration: underline; }

/* ------------------------------
   Errors and loading
------------------------------ */
#error-message {
  display: none;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(239,68,68,0.15);
  border: 1px solid rgba(239,68,68,0.35);
  color: #fecaca;
}

#loading-indicator {
  display: none;
  margin-top: 12px;
  align-items: center;
  gap: 10px;
  color: var(--muted);
}

.spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(255,255,255,0.25);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ------------------------------
   Accessiblity helpers
------------------------------ */
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; border-radius: 8px; }

.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* ------------------------------
   Responsive
------------------------------ */
@media (max-width: 900px) {
  #app-container { width: min(94vw, 820px); }
}

@media (max-width: 600px) {
  #app-container { width: min(96vw, 560px); padding: 12px; }

  .input-group { flex-direction: column; align-items: stretch; }
  .news-header, .search-header { flex-direction: column; align-items: flex-start; gap: 8px; }
  .history-actions { width: 100%; justify-content: flex-start; flex-wrap: wrap; }
}

@media (max-width: 420px) {
  #app-container { width: 94vw; padding: 10px; margin: 18px auto 44px; }
  .search-card, .news-card, .weather-card { padding: 14px; }
  .forecast-card { width: clamp(110px, 40vw, 140px); }
}
/* Ensure padding/border are included in width calculations to prevent overflow */
*, *::before, *::after {
    box-sizing: border-box;
}
/* Weather effect layers */
.weather-layer {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}

.clouds {
    background: url('https://raw.githubusercontent.com/Avinash-Avin/weather-assets/main/clouds.png') repeat-x top center;
    opacity: 0.7;
    animation: cloud-move 60s linear infinite;
}

@keyframes cloud-move {
    0% { background-position-x: 0; }
    100% { background-position-x: 1000px; }
}

.lightning {
    background: none;
}
.lightning-flash {
    position: absolute;
    left: 50%;
    top: 30%;
    width: 80px;
    height: 200px;
    background: url('https://raw.githubusercontent.com/Avinash-Avin/weather-assets/main/lightning.png') no-repeat center center;
    opacity: 0;
    transform: translateX(-50%);
    animation: lightning-flash 2s infinite;
}

@keyframes lightning-flash {
    0%, 100% { opacity: 0; }
    5% { opacity: 1; }
    10% { opacity: 0; }
    15% { opacity: 1; }
    20% { opacity: 0; }
#location-name {
    font-size: clamp(1.75rem, 3.5vw, 2.5rem);
/* Rain effect */
.rain {
    background-image: repeating-linear-gradient(
        115deg,
        rgba(255, 255, 255, 0.28) 0 2px,
        rgba(255, 255, 255, 0) 2px 8px
    );
    background-size: 12px 24px;
    opacity: 0.25;
    animation: rain-fall 0.6s linear infinite;
}
#temperature {
    font-size: clamp(2.5rem, 7vw, 4rem);
    100% { background-position: 100px 300px; }
}

/* Snow effect */
.snow {
    background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0) 51%),
        radial-gradient(2px 2px at 40px 60px, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0) 51%),
        radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0) 51%),
        radial-gradient(2px 2px at 70px 100px, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0) 51%),
        radial-gradient(2px 2px at 200px 50px, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0) 51%);
    background-size: 200px 200px;
#weather-description {
    font-size: clamp(1rem, 2.5vw, 1.5rem);
}
@keyframes snow-fall {
    0% { background-position-y: 0, 0, 0, 0, 0; }
    100% { background-position-y: 200px, 200px, 200px, 200px, 200px; }
}

/* Mist/Fog effect */
.mist {
    background: radial-gradient(ellipse at center, rgba(255,255,255,0.18), rgba(255,255,255,0.04) 60%, rgba(255,255,255,0) 70%);
    filter: blur(4px);
    opacity: 0.55;
}
:root {
    --brand: #60a5fa; /* default sky blue */
    --text: #ffffff;
    --panel-bg: rgba(255, 255, 255, 0.14);
.details-grid {
    --panel-blur: 10px;
    --overlay: linear-gradient(180deg, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.45) 100%);
}

    max-width: 420px;
    font-family: 'Inter', sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100dvh;
    margin: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    transition: background-image 0.8s ease-in-out, background-color 0.8s ease-in-out;
    color: var(--text);
    position: relative;
    overflow-x: hidden;
#forecast-container {
    display: flex;
    overflow-x: auto;
    gap: 0.75rem;
    padding-bottom: 1rem;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

#app-container {
    position: relative;
    z-index: 1;
    width: min(92vw, 1050px);
    padding: 2.25rem 1.25rem 2.5rem 1.25rem; /* add a bit more inner space to avoid visual clippings */
    border-radius: 20px;
    background: var(--panel-bg);
    backdrop-filter: blur(var(--panel-blur));
    -webkit-backdrop-filter: blur(var(--panel-blur));
    border: 1px solid var(--panel-border);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.forecast-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: clamp(110px, 22vw, 140px);
    margin: 2rem 0;
    /* Allow both-axis visibility so inner cards never get clipped */
    overflow: visible;
    isolation: isolate; /* ensure inner shadows stack above background overlay */
}

/* Auth */
.auth-card {
    width: 100%;
    padding: 1.25rem;
    border-radius: 16px;
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.22);
    backdrop-filter: blur(8px);
.forecast-card .icon {
    font-size: clamp(2rem, 4vw, 2.5rem);
    margin-bottom: 1rem;
    text-align: left;
}
.auth-title { margin: 0 0 0.5rem 0; }
.auth-form { display: grid; gap: 0.5rem; }
.auth-form h3 { margin: 0.25rem 0; }
.auth-form label { display: grid; gap: 0.35rem; font-weight: 500; }
.auth-form input {
    padding: 0.6rem 0.75rem;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.3);
.news-list {
    list-style: none;
    padding: 0;
    margin: 0.25rem 0 0 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 0.75rem;
}
    color: #fff;
    font-weight: 600;
    cursor: pointer;
}
.auth-error {
    margin-top: 0.5rem;
    color: #ffcccc;
    background: rgba(255, 0, 0, 0.2);
    padding: 0.5rem 0.75rem;
    border-radius: 10px;
        padding: 1.25rem 0.75rem 1.5rem 0.75rem;
        width: 96vw;
.logout-btn {
/* Hero header */
.hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    margin-bottom: 1rem;
}
.hero-icon {
        max-width: 300px;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.35));
    #forecast-container { gap: 0.6rem; }
}
.hero-title {
    margin: 0.25rem 0 0.15rem 0;
    font-size: clamp(1.75rem, 2.6vw + 1rem, 2.5rem);
    font-weight: 800;
    letter-spacing: 0.3px;
    background: linear-gradient(180deg, #fff, color-mix(in oklab, var(--brand) 60%, #ffffff 20%));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}
.hero-subtitle {
    margin: 0 0 0.25rem 0;
    opacity: 0.9;
    font-weight: 400;
}

/* Search card */
.search-card {
    width: 100%;
    padding: 1rem;
    border-radius: 16px;
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.22);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.22); /* slightly softer to reduce spill */
    margin: 0 0 0.75rem 0; /* ensure no negative overlap */
}
.news-card {
    width: 100%;
    padding: 1rem;
    border-radius: 16px;
    background: rgba(255,255,255,0.10);
    border: 1px solid rgba(255,255,255,0.22);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.22);
}
.news-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}
.news-header h2 {
    margin: 0;
    font-size: 1.25rem;
}
.news-refresh-btn {
    padding: 0.5rem 0.75rem;
    border-radius: 10px;
    border: 1px solid color-mix(in oklab, var(--brand) 70%, white 10%);
    background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 72%, #ffffff 0%), color-mix(in oklab, var(--brand) 45%, #000 0%));
    color: #fff;
    cursor: pointer;
}
.news-refresh-btn:hover {
    filter: brightness(1.05);
}
.news-refresh-btn.danger {
    border-color: color-mix(in oklab, #ef4444 80%, white 0%);
    background: linear-gradient(180deg, color-mix(in oklab, #ef4444 75%, #ffffff 0%), color-mix(in oklab, #b91c1c 55%, #000 0%));
}
.history-actions { display: flex; gap: 0.5rem; }
.news-loading {
    color: rgba(255,255,255,0.9);
    font-size: 0.95rem;
    padding-left: 1.5rem;
    position: relative;
}
.news-loading::before {
    content: '';
    position: absolute;
    left: 0.25rem;
    top: 50%;
    transform: translateY(-50%);
    width: 0.9rem;
    height: 0.9rem;
    border-radius: 999px;
    border: 2px solid rgba(255,255,255,0.35);
    border-top-color: #fff;
    animation: spin 0.9s linear infinite;
}
.news-error {
    color: #ffcccc;
    background: rgba(255, 0, 0, 0.2);
    padding: 0.5rem 0.75rem;
    border-radius: 10px;
    margin-top: 0.5rem;
}
.news-list {
    list-style: none;
    padding: 0;
    margin: 0.25rem 0 0 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
}
/* Dedicated styles for history rows to avoid impacting news cards */
.history-item {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 12px;
    padding: 0.5rem 0.5rem 0.5rem 0.75rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.history-item a, .history-item strong {
    color: #fff;
    text-decoration: none;
    font-weight: 600;
}
.history-item:hover { filter: brightness(1.05); }
.history-item.active {
    border-color: color-mix(in oklab, var(--brand) 80%, #ffffff 0%);
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--brand) 35%, #ffffff 0%) inset;
    background: rgba(255,255,255,0.12);
}
.history-meta { font-size: 0.8rem; opacity: 0.9; margin-top: 0.15rem; }
.history-main { display: grid; }
.history-delete {
    border: 1px solid rgba(255,255,255,0.25);
    background: rgba(255,255,255,0.12);
    color: #fff;
    border-radius: 8px;
    cursor: pointer;
    padding: 0.35rem 0.5rem;
}
.news-meta {
    font-size: 0.8rem;
    opacity: 0.9;
    margin-top: 0.25rem;
}

@media (max-width: 600px) {
    .news-list { grid-template-columns: 1fr; }
}
.help-text {
    margin: 0.25rem 0 0 0;
    font-size: 0.85rem;
    opacity: 0.9;
}

.input-group {
    display: flex;
    width: 100%;
    margin-bottom: 1.5rem;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.input-wrapper {
    position: relative;
    flex: 1 1 280px;
}
.leading-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.9;
    pointer-events: none;
}

.input-group input {
    width: 100%;
    padding: 0.75rem 1rem 0.75rem 2.25rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
    outline: none;
    transition: border-color 0.3s ease;
}

.input-group input::placeholder {
    color: rgba(255, 255, 255, 0.7);
}

.input-group input:focus {
    border-color: rgba(255, 255, 255, 0.6);
}

.input-group button {
    padding: 0.75rem 1.25rem;
    background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 72%, #ffffff 0%), color-mix(in oklab, var(--brand) 45%, #000 0%));
    border: 1px solid color-mix(in oklab, var(--brand) 70%, white 10%);
    border-radius: 10px;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.25s ease, transform 0.15s ease, box-shadow 0.2s ease;
    font-weight: 600;
    box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

.input-group button:hover {
    background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 85%, #ffffff 0%), color-mix(in oklab, var(--brand) 55%, #000 0%));
    transform: translateY(-2px);
}
.input-group button:active {
    transform: translateY(0);
}

#location-button {
    background: linear-gradient(180deg, color-mix(in oklab, #10b981 72%, #ffffff 0%), color-mix(in oklab, #10b981 45%, #000 0%));
    border: 1px solid color-mix(in oklab, #10b981 70%, white 10%);
}

#location-button:hover {
    background: linear-gradient(180deg, color-mix(in oklab, #10b981 85%, #ffffff 0%), color-mix(in oklab, #10b981 55%, #000 0%));
}

#weather-info {
    width: 100%;
    display: none;
    flex-direction: column;
    align-items: center;
}

#location-name {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

#temperature {
    font-size: 4rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

#weather-description {
    font-size: 1.5rem;
    font-weight: 400;
    margin-bottom: 1rem;
    text-transform: capitalize;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.details-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    width: 100%;
    max-width: 300px;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.detail-item {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.75rem;
    border-radius: 10px;
    text-align: center;
    font-size: 0.9rem;
    font-weight: 300;
}

.detail-item strong {
    display: block;
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

#weekly-forecast {
    display: none;
    width: 100%;
    margin-top: 2rem;
}

.forecast-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

#forecast-container {
    display: flex;
    overflow-x: auto;
    gap: 1rem;
    padding-bottom: 1rem;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
}
#forecast-container::-webkit-scrollbar {
    display: none;
}

.forecast-card {
    flex-shrink: 0;
    width: 130px;
    padding: 1rem;
    border-radius: 15px;
    background: var(--panel-bg);
    backdrop-filter: blur(calc(var(--panel-blur) - 3px));
    border: 1px solid var(--panel-border);
    text-align: center;
    transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.3s ease;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}
.forecast-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 10px 24px rgba(0,0,0,0.35);
}

.forecast-card .day {
    font-weight: 600;
    margin-bottom: 0.5rem;
}
.forecast-card .icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}
.forecast-card .temp-range {
    font-size: 1rem;
}

#error-message {
    color: #ffcccc;
    background: rgba(255, 0, 0, 0.2);
    padding: 0.75rem 1rem;
    border-radius: 10px;
    margin-top: 1rem;
    display: none;
    width: 100%;
}

#loading-indicator {
    display: none;
    margin-top: 1rem;
    font-size: 1.2rem;
    color: rgba(255, 255, 255, 0.8);
    position: relative;
    padding-left: 2rem;
}
#loading-indicator::before {
    content: '';
    position: absolute;
    left: 0.5rem;
    top: 50%;
    width: 1rem;
    height: 1rem;
    border-radius: 999px;
    border: 2px solid rgba(255,255,255,0.35);
    border-top-color: #fff;
    transform: translateY(-50%);
    animation: spin 0.9s linear infinite;
}
@keyframes spin {
    to { transform: translateY(-50%) rotate(360deg); }
}

@media (max-width: 600px) {
    #app-container {
        padding: 1.5rem;
        width: 95%;
    }
    #location-name {
        font-size: 2rem;
    }
    #temperature {
        font-size: 3.5rem;
    }
    #weather-description {
        font-size: 1.2rem;
    }
    .input-group {
        flex-direction: column;
    }
    .input-group button {
        width: 100%;
        margin-top: 0.5rem;
    }
    .details-grid {
        grid-template-columns: 1fr;
        max-width: 250px;
    }
}

/* Accessibility focus styles */
:focus-visible {
    outline: 3px solid color-mix(in oklab, var(--brand) 80%, #ffffff 0%);
    outline-offset: 2px;
    border-radius: 10px;
}

/* Screen reader only utility */
.sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}
